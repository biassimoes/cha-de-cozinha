<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Chá de Cozinha</title>
  <style>
    body {
      background-color: #15171a;
      color: #2099d5;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      padding: 20px;
    }

    h1, h2 {
      color: #2099d5;
    }

    .categoria {
      margin-bottom: 40px;
    }

    button {
      background-color: #13418a;
      color: #000;
      border: none;
      padding: 25px 20px;
      margin: 5px;
      cursor: pointer;
      border-radius: 15px;
    }

    button:disabled {
      background-color: #444;
      color: #888;
      cursor: not-allowed;
    }
  </style>

<script>// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
const firebaseConfig = {
  apiKey: "AIzaSyD1fn_kDEozwbys7crMmQtoUwgSYQuIE3A",
  authDomain: "cha-de-cozinha-ed164.firebaseapp.com",
  projectId: "cha-de-cozinha-ed164",
  storageBucket: "cha-de-cozinha-ed164.firebasestorage.app",
  messagingSenderId: "539801316247",
  appId: "1:539801316247:web:5cb50bf3dc1a949a9032d2"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
</script>

  <script>
    function desativar(botao) {
      const link = botao.getAttribute("data-link");
      const id = btoa(link);

      if (link) {
        window.open(link, "_blank");
      }

      db.ref("presentes/" + id).set({
        reservado: true
      });

      botao.disabled = true;
      if (!botao.innerText.includes("✅")) {
        botao.innerText += " ✅";
      }
    }

    window.onload = function () {
      db.ref("presentes").once("value", snapshot => {
        const dados = snapshot.val() || {};
        const botoes = document.querySelectorAll("button[data-link]");

        botoes.forEach(botao => {
          const link = botao.getAttribute("data-link");
          const id = btoa(link);

          if (dados[id] && dados[id].reservado) {
            botao.disabled = true;
            if (!botao.innerText.includes("✅")) {
              botao.innerText += " ✅";
            }
          }
        });
      });
    };
  </script>
</head>
<body>
  <h1>Chá de Cozinha</h1>
  <p>Escolha um item para presentear!</p>

  <!-- Categorias e botões -->
  <div class="categoria">
    <h2>Eletrodomésticos</h2>
    <button onclick="desativar(this)" data-link="https://www.magazinevoce.com.br/magazineofertadaluiza/sanduicheira-amvox-ams-370-preta-750w-antiaderente/p/235233800/ep/gset/" aria-label="Presentear com Sanduicheira">Sanduicheira</button>
    <button onclick="desativar(this)" data-link="https://www.magazinevoce.com.br/magazineofertadaluiza/chaleira-eletrica-mondial-pratic-hot-ce-07-preta-1l/p/236674800/ud/chcl/" aria-label="Presentear com Chaleira elétrica">Chaleira elétrica</button>
    <button onclick="desativar(this)" data-link="https://www.magazinevoce.com.br/magazineofertadaluiza/air-fryer-mondial-afn-40-bf-preta-com-timer/p/236409700/ep/efso/" aria-label="Presentear com Air fryer">Air fryer</button>
    <!-- ... continue com os demais botões ... -->
  </div>

  <div class="categoria">
    <h2>Cozinha</h2>
    <button onclick="desativar(this)" data-link="https://br.shp.ee/X63LWmv" aria-label="Presentear com Potes herméticos">Potes herméticos</button>
    <button onclick="desativar(this)" data-link="https://br.shp.ee/bwJnCM9" aria-label="Presentear com Saleiro">Saleiro</button>
    <!-- ... continue com os demais botões ... -->
  </div>

  <div class="categoria">
    <h2>Quarto (Cama Queen)</h2>
    <button onclick="desativar(this)" data-link="https://shopee.com.br/product/300779622/22896783747?d_id=4040e" aria-label="Presentear com Jogo de lençol">Jogo de lençol</button>
    <!-- ... -->
  </div>

  <div class="categoria">
    <h2>Sala</h2>
    <button onclick="desativar(this)" data-link="https://br.shp.ee/Ls26CuY" aria-label="Presentear com Tapete felpudo">Tapete felpudo</button>
  </div>

  <div class="categoria">
    <h2>Lavanderia</h2>
    <button onclick="desativar(this)" data-link="https://br.shp.ee/3KbXwZu" aria-label="Presentear com Varal de chão">Varal de chão</button>
    <button onclick="desativar(this)" data-link="https://br.shp.ee/rdXiJK2" aria-label="Presentear com Kit de ferramentas">Kit de ferramentas</button>
  </div>

  <div class="categoria">
    <h2>Banheiro</h2>
    <button onclick="desativar(this)" data-link="https://br.shp.ee/rXtn8UV" aria-label="Presentear com Kit acessórios banheiro">Kit acessórios banheiro</button>
  </div>
</body>
</html>